<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>果果的小游戏2：烟花</title>
	<style>
        body {
	        background: #000;
	        margin: 0;
        }

        canvas {
	        cursor: crosshair;
	        display: block;
        }
        #say{
        	position: absolute;
        	top:0;
        	width:100px ;
        	height: 100px;
        	border:1px solid green;
        	color:white;
        	font-size: 12px;
        }
        span{
        	display: inline-block;
        	width:100px;
        	height:20px;
        	background: yellow;
        	color:red;
        	margin-top:10px;
        	text-align: center;
        	line-height: 20px;
        	cursor:pointer;
        }
	</style>
	<script>

	</script>
</head>
<body>
	<div id="say">
		玩法说明：
		<br>
		1。是点击背景会有烟花啦，
		<br>
		2.鼠标一直按着不动
		<span id="span">点我消失</span>
	</div>
	<canvas id="canvas">Canvas is not supported in your browser.</canvas>
	<script>

	var oXiaoshi=document.getElementById("say");
	var oxiaoshi=document.getElementById("span");
	oxiaoshi.onclick=function()
	{
		oXiaoshi.style.display="none";
	}
	    window.requestAnimFrame = ( function() {
	return window.requestAnimationFrame ||
				window.webkitRequestAnimationFrame ||
				window.mozRequestAnimationFrame ||
				function( callback ) {
					window.setTimeout( callback, 1000 / 60 );
				};
})();
	window.onload=function()
	{



		// now we will setup our basic variables for the demo    现在我们将为演示设置基本变量
		var canvas = document.getElementById('canvas'),
				ctx = canvas.getContext('2d'),
		// full screen dimensions
		//只读属性，声明了窗口的文档显示区的高度和宽度，以像素计。
		// 这里的宽度和高度不包括菜单栏、工具栏以及滚动条等的高度。
		//IE 不支持这些属性。它用 document.documentElement
		// 或 document.body （与 IE 的版本相关）的 clientWidth 和 clientHeight 属性作为替代。
				cw = window.innerWidth,
				ch = window.innerHeight,
		// firework collection（烟花）
				fireworks = [],
		// particle collection（画的粒子）
				particles = [],
		// starting hue
				hue = 120,
		// when launching fireworks with a click, too many get launched at once without a limiter, one launch per 5 loop ticks
		// (当发射烟花时，点击，太多的启动，没有一个限制器，每5个循环开始一次发射)
				limiterTotal = 5,
				limiterTick = 0,
		// this will time the auto launches of fireworks, one launch per 80 loop ticks
		// (这将设置自动启动的烟花，每80个循环开始一次发射)
				timerTotal = 80,
				timerTick = 0,
				mousedown = false,
		// mouse x coordinate,
				mx,
		// mouse y coordinate
				my;

// set canvas dimensions
		canvas.width = cw;
		canvas.height = ch;

		loop();
// now we are going to setup our function placeholders for the entire demo

// get a random number within a range(在一个范围内得到一个随机数)
		function random(min, max) {
			return Math.random() * ( max - min ) + min;
		}

// calculate the distance between two points(计算两点之间的距离)
		function calculateDistance(p1x, p1y, p2x, p2y) {
			var xDistance = p1x - p2x,
					yDistance = p1y - p2y;
			return Math.sqrt(Math.pow(xDistance, 2) + Math.pow(yDistance, 2));
		}// Math.sqrt()返回正确舍入的一个double值的正平方根,pow() 方法可返回 x 的 y 次幂的值。

// create firework
		function Firework(sx, sy, tx, ty) {
			// actual coordinates(实际坐标)
			this.x = sx;
			this.y = sy;
			// starting coordinates(开始坐标)
			this.sx = sx;
			this.sy = sy;
			// target coordinates(目标坐标)
			this.tx = tx;
			this.ty = ty;
			// distance from starting point to target(从起点到目标的距离)
			this.distanceToTarget = calculateDistance(sx, sy, tx, ty);
			this.distanceTraveled = 0;
			// track the past coordinates of each firework to create a trail effect, increase the coordinate count to create more prominent trails（跟踪过去的坐标，每一个烟花创造一个线索效应，增加坐标计数，以创造更突出的痕迹）
			this.coordinates = [];
			this.coordinateCount = 3;
			// populate initial coordinate collection with the current coordinates(用当前坐标填充初始坐标集合)
			while (this.coordinateCount--) {
				this.coordinates.push([this.x, this.y]);
			}
			this.angle = Math.atan2(ty - sy, tx - sx);
			this.speed = 2;
			this.acceleration = 1.05;
			this.brightness = random(50, 70);
			// circle target indicator radius(圆目标指示器半径)
			this.targetRadius = 1;
		}

// update firework
		Firework.prototype.update = function (index) {
			// remove last item in coordinates array
			this.coordinates.pop();//pop() 方法用于删除并返回数组的最后一个元素
			// add current coordinates to the start of the array
			this.coordinates.unshift([this.x, this.y]);//unshift() 方法可向数组的开头添加一个或更多元素，并返回新的长度。

			// cycle the circle target indicator radius
			if (this.targetRadius < 8) {
				this.targetRadius += 0.3;
			} else {
				this.targetRadius = 1;
			}

			// speed up the firework
			this.speed *= this.acceleration;

			// get the current velocities based on angle and speed
			var vx = Math.cos(this.angle) * this.speed,
					vy = Math.sin(this.angle) * this.speed;
			// how far will the firework have traveled with velocities applied?(烟花用的速度会有多远？)
			this.distanceTraveled = calculateDistance(this.sx, this.sy, this.x + vx, this.y + vy);

			// if the distance traveled, including velocities, is greater than the initial distance to the target, then the target has been reached(如果距离旅行，包括速度，是大于初始距离的目标，那么目标已达到)
			if (this.distanceTraveled >= this.distanceToTarget) {
				createParticles(this.tx, this.ty);
				// remove the firework, use the index passed into the update function to determine which to remove(删除烟花，使用索引传递到更新功能，以确定哪些要删除)
				fireworks.splice(index, 1);//splice() 方法可删除从 index 处开始的一个元素。
			} else {
				// target not reached, keep traveling
				this.x += vx;
				this.y += vy;
			}
		}

// draw firework
		Firework.prototype.draw = function () {
			ctx.beginPath();
			// move to the last tracked coordinate in the set, then draw a line to the current x and y(移动到集合中的最后一个跟踪坐标，然后画一条线到当前的X和Y)
			ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
			ctx.lineTo(this.x, this.y);
			ctx.strokeStyle = 'hsl(' + hue + ', 100%, ' + this.brightness + '%)';//HSL(H,S,L)取值：H：Hue(色调)。0(或360)表示红色，120表示绿色，240表示蓝色，也可取其他数值来指定颜色。取值为：0 - 360S：Saturation(饱和度)。取值为：0.0% - 100.0%L：Lightness(亮度)。取值为：0.0% - 100.0%
			ctx.stroke();

			ctx.beginPath();
			// draw the target for this firework with a pulsing circle(用一个脉冲圈画出这个烟火的目标)
			ctx.arc(this.tx, this.ty, this.targetRadius, 0, Math.PI * 2);//context.arc(x,y,r,sAngle,eAngle,counterclockwise);x	圆的中心的 x 坐标。y	圆的中心的 y 坐标。r	圆的半径。sAngle	起始角，以弧度计。（弧的圆形的三点钟位置是 0 度）。eAngle	结束角，以弧度计。counterclockwise	可选。规定应该逆时针还是顺时针绘图。False = 顺时针，true = 逆时针。
			ctx.stroke();
		}

// create particle
		function Particle(x, y) {
			this.x = x;
			this.y = y;
			// track the past coordinates of each particle to create a trail effect, increase the coordinate count to create more prominent trails（跟踪过去的坐标，每一个粒子创建一个跟踪效果，增加坐标计数，以创建更突出的路径）
			this.coordinates = [];
			this.coordinateCount = 5;
			while (this.coordinateCount--) {
				this.coordinates.push([this.x, this.y]);
			}
			// set a random angle in all possible directions, in radians（在所有可能的方向设置一个任意角度、弧度)
			this.angle = random(0, Math.PI * 2);
			this.speed = random(1, 10);
			// friction will slow the particle down(this.friction会减缓粒子的速度)
			this.friction = 0.95;
			// gravity will be applied and pull the particle down(this.gravity将应用和particle的粒子)
			this.gravity = 1;
			// set the hue to a random number +-20 of the overall hue variable(将色调设置为一个随机数+ - 20的整体色调变量)
			this.hue = random(hue - 20, hue + 20);
			this.brightness = random(50, 80);
			this.alpha = 1;
			// set how fast the particle fades out(设置粒子的速度有多快)
			this.decay = random(0.015, 0.03);
		}

// update particle
		Particle.prototype.update = function (index) {
			// remove last item in coordinates array
			this.coordinates.pop();//pop() 方法用于删除并返回this.coordinates的最后一个元素,并且返回它删除的元素的值
			// add current coordinates to the start of the array   unshift() 方法可向数组的开头添加一个或更多元素，并返回新的长度
			this.coordinates.unshift([this.x, this.y]);
			// slow down the particle
			this.speed *= this.friction;
			// apply velocity
			this.x += Math.cos(this.angle) * this.speed;
			this.y += Math.sin(this.angle) * this.speed + this.gravity;
			// fade out the particle
			this.alpha -= this.decay;

			// remove the particle once the alpha is low enough, based on the passed in index
			if (this.alpha <= this.decay) {
				particles.splice(index, 1);
			}
		}

// draw particle
		Particle.prototype.draw = function () {
			ctx.beginPath();
			// move to the last tracked coordinates in the set, then draw a line to the current x and y(移动到集合中的最后一个跟踪坐标，然后绘制一条线到当前的X和Y)
			ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);//开始一条路径，移动到括号里的位置this.coordinates[ this.coordinates.length - 1 ]是一个数组{x,y},在后面加一个[0],选的就是第一个也就是x
			ctx.lineTo(this.x, this.y);//路径最终到达括号中的位置
			ctx.strokeStyle = 'hsla(' + this.hue + ', 100%, ' + this.brightness + '%, ' + this.alpha + ')';//HSLA(H,S,L,A)H：Hue(色调)。0(或360)表示红色，120表示绿色，240表示蓝色，也可取其他数值来指定颜色。取值为：0 - 360;S：Saturation(饱和度)。取值为：0.0% - 100.0%;L：Lightness(亮度)。取值为：0.0% - 100.0%;A：Alpha透明度。取值0~1之间。
			ctx.stroke();
		}

// create particle group/explosion(创建粒子群/爆炸)
		function createParticles(x, y) {
			// increase the particle count for a bigger explosion, beware of the canvas performance hit with the increased particles though(虽然增加粒子数为一个更大的爆炸，小心帆布的性能击中与增加的粒子)
			var particleCount = 30;
			while (particleCount--) {
				particles.push(new Particle(x, y));
			}
		}

// main demo loop
		function loop() {
			// this function will run endlessly with requestAnimationFrame(这个函数将requestanimationframe没完没了地跑)
			requestAnimFrame(loop);

			// increase the hue to get different colored fireworks over time
			hue += 0.5;

			// normally, clearRect() would be used to clear the canvas(通常情况下，clearrect()将用于清除画布)
			// we want to create a trailing effect though(我们想创建一个跟踪效果)
			// setting the composite operation to destination-out will allow us to clear the canvas at a specific opacity, rather than wiping it entirely(设置复合操作到目的地，将使我们能够清除画布上的一个特定的不透明度，而不是完全擦拭)
			ctx.globalCompositeOperation = 'destination-out';//globalCompositeOperation 属性设置或返回如何将一个源（新的）图像绘制到目标（已有）的图像上。源图像 = 您打算放置到画布上的绘图。目标图像 = 您已经放置在画布上的绘图。destination-out 在源图像外显示目标图像。只有源图像外的目标图像部分会被显示，源图像是透明的。


			// decrease the alpha property to create more prominent trails(降低阿尔法属性创造更突出的路径)
			ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';
			ctx.fillRect(0, 0, cw, ch);
			// change the composite operation back to our main mode(改变复合操作回到我们的主要模式)
			// lighter creates bright highlight points as the fireworks and particles overlap each other(lighter属性创造明亮的亮点，因为烟花和粒子相互重叠)
			ctx.globalCompositeOperation = 'lighter';//lighter 显示源图像 + 目标图像。

			// loop over each firework, draw it, update it(在每一个烟花圈，画它，更新它)
			var i = fireworks.length;
			while (i--) {
				fireworks[i].draw();
				fireworks[i].update(i);
			}

			// loop over each particle, draw it, update it(遍历每一个粒子，绘制它，更新它)
			var i = particles.length;
			while (i--) {
				particles[i].draw();
				particles[i].update(i);
			}

			// launch fireworks automatically to random coordinates, when the mouse isn't down(一直发射烟花自动到随机坐标，如果鼠标不按下来)
			if (timerTick >= timerTotal) {
				if (!mousedown) {
					// start the firework at the bottom middle of the screen, then set the random target coordinates, the random y coordinates will be set within the range of the top half of the screen（在屏幕的底部开始烟火，然后设置随机目标坐标，随机的Y坐标将被设置在屏幕的上半部分的范围内）
					fireworks.push(new Firework(cw / 2, ch, random(0, cw), random(0, ch / 2)));
					timerTick = 0;
				}
			} else {
				timerTick++;
			}

			// limit the rate at which fireworks get launched when mouse is down
			if (limiterTick >= limiterTotal) {
				if (mousedown) {
					// start the firework at the bottom middle of the screen, then set the current mouse coordinates as the target
					fireworks.push(new Firework(cw / 2, ch, mx, my));
					limiterTick = 0;
				}
			} else {
				limiterTick++;
			}
		}

// mouse event bindings
// update the mouse coordinates on mousemove
		canvas.addEventListener('mousemove', function (e) {
			mx = e.pageX - canvas.offsetLeft;
			my = e.pageY - canvas.offsetTop;
		});

// toggle mousedown state and prevent canvas from being selected(切换鼠标按下状态和防止画布被选择)
		canvas.addEventListener('mousedown', function (e) {
			e.preventDefault();//取消事件的默认动作。
			mousedown = true;
		});

		canvas.addEventListener('mouseup', function (e) {
			e.preventDefault();
			mousedown = false;
		});

// once the window loads, we are ready for some fireworks!(一旦窗口加载，我们准备一些烟花！)
//		window.onload = loop;
	}
	</script>
</body>
</html>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  